apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Slack Users API
  description: >-
    Slack's Users API is a set of Web API methods that let your app discover and
    work with people in a Slack workspace. It can list members, fetch details
    for a specific user, look up users by email, and retrieve profile data such
    as names, photos, status, time zones, and custom fields. Where permitted, it
    can also read presence and update a user's profile or photo with the proper
    user-level authorization. Developers use it to map real identities to Slack
    user IDs, personalize experiences, resolve mentions and DMs, and distinguish
    between human, bot, and app users. Access to specific data and actions
    depends on scopes (for example, users:read, users:read.email,
    users.profile:read/write), and certain capabilities like presence have
    additional restrictions. For provisioning and enterprise directory
    management, Slack's SCIM API is used instead.
  tags:
    - User Conversations
    - User Information
    - User Profile
    - User Presence
    - User Photo
    - User Lookup
  links:
    - icon: code
      url: https://github.com/naftiko/slack-sandbox
spec:
  type: openapi
  lifecycle: experimental
  owner: kinlane@naftiko.io
  definition: |
    openapi: 3.1.0
    info:
      title: slack-users-api
      version: 1.0.0
      description: >-
        Slack's Users API is a set of Web API methods that let your app discover and
        work with people in a Slack workspace. It can list members, fetch details
        for a specific user, look up users by email, and retrieve profile data such
        as names, photos, status, time zones, and custom fields. Where permitted, it
        can also read presence and update a user's profile or photo with the proper
        user-level authorization. Developers use it to map real identities to Slack
        user IDs, personalize experiences, resolve mentions and DMs, and distinguish
        between human, bot, and app users. Access to specific data and actions
        depends on scopes (for example, users:read, users:read.email,
        users.profile:read/write), and certain capabilities like presence have
        additional restrictions. For provisioning and enterprise directory
        management, Slack's SCIM API is used instead.
      contact:
        name: Slack API Support
        url: https://api.slack.com/support
      license:
        name: Apache 2.0
        url: https://www.apache.org/licenses/LICENSE-2.0.html
    servers:
      - url: https://slack.com/api
        description: Slack Web API
    tags:
      - name: User Conversations
        description: Operations for listing user conversations
      - name: User Information
        description: Operations for retrieving user information
      - name: User Profile
        description: Operations for managing user profiles
      - name: User Presence
        description: Operations for managing user presence
      - name: User Photo
        description: Operations for managing user photos
      - name: User Lookup
        description: Operations for looking up users
    paths:
      /users.conversations:
        get:
          tags:
            - User Conversations
          summary: List User Conversations
          description: List conversations the calling user may access.
          operationId: listUserConversations
          externalDocs:
            description: API method documentation
            url: https://api.slack.com/methods/users.conversations
          x-microcks-operation:
            dispatcher: FALLBACK
            dispatcherRules: ''
            delay: 0
          parameters:
            - $ref: '#/components/parameters/TokenQuery'
            - name: user
              in: query
              description: Browse conversations by a specific user ID's membership.
              schema:
                type: string
            - name: types
              in: query
              description: Mix and match channel types by providing a comma-separated list.
              schema:
                type: string
            - name: exclude_archived
              in: query
              description: Set to `true` to exclude archived channels from the list.
              schema:
                type: boolean
            - name: limit
              in: query
              description: The maximum number of items to return.
              schema:
                type: integer
            - name: cursor
              in: query
              description: >-
                Paginate through collections of data by setting the cursor
                parameter.
              schema:
                type: string
          responses:
            '200':
              description: Typical success response with only public channels.
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/UserConversationsSuccessResponse'
                  examples:
                    SuccessExample:
                      $ref: >-
                        #/components/examples/UserConversationsSuccessResponseExample
            default:
              description: Typical error response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/UsersErrorResponse'
                  examples:
                    ErrorExample:
                      $ref: '#/components/examples/UsersErrorResponseExample'
          security:
            - SlackAuth:
                - channels:read
                - groups:read
                - im:read
                - mpim:read
      /users.deletePhoto:
        post:
          tags:
            - User Photo
          summary: Delete User Photo
          description: Delete the user profile photo
          operationId: deleteUserPhoto
          externalDocs:
            description: API method documentation
            url: https://api.slack.com/methods/users.deletePhoto
          x-microcks-operation:
            dispatcher: FALLBACK
            dispatcherRules: ''
            delay: 0
          requestBody:
            required: true
            content:
              application/x-www-form-urlencoded:
                schema:
                  $ref: '#/components/schemas/DeletePhotoRequest'
                examples:
                  DeletePhotoExample:
                    $ref: '#/components/examples/DeletePhotoRequestExample'
          responses:
            '200':
              description: Typical success response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/SimpleSuccessResponse'
                  examples:
                    SuccessExample:
                      $ref: '#/components/examples/SimpleSuccessResponseExample'
            default:
              description: Typical error response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/UsersErrorResponse'
                  examples:
                    ErrorExample:
                      $ref: '#/components/examples/UsersErrorResponseExample'
          security:
            - SlackAuth:
                - users.profile:write
      /users.getPresence:
        get:
          tags:
            - User Presence
          summary: Get User Presence
          description: Gets user presence information.
          operationId: getUserPresence
          externalDocs:
            description: API method documentation
            url: https://api.slack.com/methods/users.getPresence
          x-microcks-operation:
            dispatcher: FALLBACK
            dispatcherRules: ''
            delay: 0
          parameters:
            - $ref: '#/components/parameters/TokenQueryRequired'
            - name: user
              in: query
              description: User to get presence info on. Defaults to the authed user.
              schema:
                type: string
          responses:
            '200':
              description: >-
                When requesting information for a user, this method returns the
                current presence.
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/GetPresenceSuccessResponse'
                  examples:
                    SuccessExample:
                      $ref: '#/components/examples/GetPresenceSuccessResponseExample'
            default:
              description: Typical error response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/UsersErrorResponse'
                  examples:
                    ErrorExample:
                      $ref: '#/components/examples/UsersErrorResponseExample'
          security:
            - SlackAuth:
                - users:read
      /users.identity:
        get:
          tags:
            - User Information
          summary: Get User Identity
          description: Get a user's identity.
          operationId: getUserIdentity
          externalDocs:
            description: API method documentation
            url: https://api.slack.com/methods/users.identity
          x-microcks-operation:
            dispatcher: FALLBACK
            dispatcherRules: ''
            delay: 0
          parameters:
            - $ref: '#/components/parameters/TokenQuery'
          responses:
            '200':
              description: You will receive at a minimum the following information.
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/UserIdentitySuccessResponse'
                  examples:
                    SuccessExample:
                      $ref: '#/components/examples/UserIdentitySuccessResponseExample'
            default:
              description: Typical error response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/UsersErrorResponse'
                  examples:
                    ErrorExample:
                      $ref: '#/components/examples/UsersErrorResponseExample'
          security:
            - SlackAuth:
                - identity.basic
      /users.info:
        get:
          tags:
            - User Information
          summary: Get User Information
          description: Gets information about a user.
          operationId: getUserInfo
          externalDocs:
            description: API method documentation
            url: https://api.slack.com/methods/users.info
          x-microcks-operation:
            dispatcher: FALLBACK
            dispatcherRules: ''
            delay: 0
          parameters:
            - $ref: '#/components/parameters/TokenQueryRequired'
            - name: user
              in: query
              description: User to get info on
              schema:
                type: string
            - name: include_locale
              in: query
              description: Set this to `true` to receive the locale for this user.
              schema:
                type: boolean
          responses:
            '200':
              description: Typical success response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/UserInfoSuccessResponse'
                  examples:
                    SuccessExample:
                      $ref: '#/components/examples/UserInfoSuccessResponseExample'
            default:
              description: Typical error response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/UserInfoErrorResponse'
                  examples:
                    ErrorExample:
                      $ref: '#/components/examples/UserInfoErrorResponseExample'
          security:
            - SlackAuth:
                - users:read
      /users.list:
        get:
          tags:
            - User Information
          summary: List Users
          description: Lists all users in a Slack team.
          operationId: listUsers
          externalDocs:
            description: API method documentation
            url: https://api.slack.com/methods/users.list
          x-microcks-operation:
            dispatcher: FALLBACK
            dispatcherRules: ''
            delay: 0
          parameters:
            - $ref: '#/components/parameters/TokenQuery'
            - name: limit
              in: query
              description: The maximum number of items to return.
              schema:
                type: integer
            - name: cursor
              in: query
              description: >-
                Paginate through collections of data by setting the cursor
                parameter.
              schema:
                type: string
            - name: include_locale
              in: query
              description: Set this to `true` to receive the locale for users.
              schema:
                type: boolean
          responses:
            '200':
              description: Typical success response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/ListUsersSuccessResponse'
                  examples:
                    SuccessExample:
                      $ref: '#/components/examples/ListUsersSuccessResponseExample'
            default:
              description: Typical error response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/UsersErrorResponse'
                  examples:
                    ErrorExample:
                      $ref: '#/components/examples/ListUsersErrorResponseExample'
          security:
            - SlackAuth:
                - users:read
      /users.lookupByEmail:
        get:
          tags:
            - User Lookup
          summary: Lookup User By Email
          description: Find a user with an email address.
          operationId: lookupUserByEmail
          externalDocs:
            description: API method documentation
            url: https://api.slack.com/methods/users.lookupByEmail
          x-microcks-operation:
            dispatcher: FALLBACK
            dispatcherRules: ''
            delay: 0
          parameters:
            - $ref: '#/components/parameters/TokenQueryRequired'
            - name: email
              in: query
              description: An email address belonging to a user in the workspace.
              required: true
              schema:
                type: string
          responses:
            '200':
              description: Typical success response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/UserInfoSuccessResponse'
                  examples:
                    SuccessExample:
                      $ref: '#/components/examples/UserInfoSuccessResponseExample'
            default:
              description: Typical error response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/LookupByEmailErrorResponse'
                  examples:
                    ErrorExample:
                      $ref: '#/components/examples/LookupByEmailErrorResponseExample'
          security:
            - SlackAuth:
                - users:read.email
      /users.profile.get:
        get:
          tags:
            - User Profile
          summary: Get User Profile
          description: Retrieves a user's profile information.
          operationId: getUserProfile
          externalDocs:
            description: API method documentation
            url: https://api.slack.com/methods/users.profile.get
          x-microcks-operation:
            dispatcher: FALLBACK
            dispatcherRules: ''
            delay: 0
          parameters:
            - $ref: '#/components/parameters/TokenQueryRequired'
            - name: user
              in: query
              description: User to retrieve profile info for.
              schema:
                type: string
            - name: include_labels
              in: query
              description: Include labels for each ID in custom profile fields.
              schema:
                type: boolean
          responses:
            '200':
              description: Typical success response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/GetProfileSuccessResponse'
                  examples:
                    SuccessExample:
                      $ref: '#/components/examples/GetProfileSuccessResponseExample'
            default:
              description: Typical error response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/UsersErrorResponse'
                  examples:
                    ErrorExample:
                      $ref: '#/components/examples/ProfileErrorResponseExample'
          security:
            - SlackAuth:
                - users.profile:read
      /users.profile.set:
        post:
          tags:
            - User Profile
          summary: Set User Profile
          description: Set the profile information for a user.
          operationId: setUserProfile
          externalDocs:
            description: API method documentation
            url: https://api.slack.com/methods/users.profile.set
          x-microcks-operation:
            dispatcher: FALLBACK
            dispatcherRules: ''
            delay: 0
          parameters:
            - $ref: '#/components/parameters/TokenHeader'
          requestBody:
            content:
              application/x-www-form-urlencoded:
                schema:
                  $ref: '#/components/schemas/SetProfileRequest'
                examples:
                  SetProfileExample:
                    $ref: '#/components/examples/SetProfileRequestExample'
              application/json:
                schema:
                  $ref: '#/components/schemas/SetProfileRequest'
                examples:
                  SetProfileExample:
                    $ref: '#/components/examples/SetProfileRequestExample'
          responses:
            '200':
              description: Typical success response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/SetProfileSuccessResponse'
                  examples:
                    SuccessExample:
                      $ref: '#/components/examples/SetProfileSuccessResponseExample'
            default:
              description: Typical error response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/SetProfileErrorResponse'
                  examples:
                    ErrorExample:
                      $ref: '#/components/examples/SetProfileErrorResponseExample'
          security:
            - SlackAuth:
                - users.profile:write
      /users.setActive:
        post:
          tags:
            - User Presence
          summary: Set User Active
          description: Marked a user as active. Deprecated and non-functional.
          operationId: setUserActive
          externalDocs:
            description: API method documentation
            url: https://api.slack.com/methods/users.setActive
          x-microcks-operation:
            dispatcher: FALLBACK
            dispatcherRules: ''
            delay: 0
          parameters:
            - $ref: '#/components/parameters/TokenHeader'
          responses:
            '200':
              description: Typical success response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/SimpleSuccessResponse'
                  examples:
                    SuccessExample:
                      $ref: '#/components/examples/SimpleSuccessResponseExample'
            default:
              description: Typical error response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/UsersErrorResponse'
                  examples:
                    ErrorExample:
                      $ref: '#/components/examples/UsersErrorResponseExample'
          security:
            - SlackAuth:
                - users:write
      /users.setPhoto:
        post:
          tags:
            - User Photo
          summary: Set User Photo
          description: Set the user profile photo.
          operationId: setUserPhoto
          externalDocs:
            description: API method documentation
            url: https://api.slack.com/methods/users.setPhoto
          x-microcks-operation:
            dispatcher: FALLBACK
            dispatcherRules: ''
            delay: 0
          requestBody:
            required: true
            content:
              application/x-www-form-urlencoded:
                schema:
                  $ref: '#/components/schemas/SetPhotoRequest'
                examples:
                  SetPhotoExample:
                    $ref: '#/components/examples/SetPhotoRequestExample'
          responses:
            '200':
              description: Typical success response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/SetPhotoSuccessResponse'
                  examples:
                    SuccessExample:
                      $ref: '#/components/examples/SetPhotoSuccessResponseExample'
            default:
              description: Typical error response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/SetPhotoErrorResponse'
                  examples:
                    ErrorExample:
                      $ref: '#/components/examples/SetPhotoErrorResponseExample'
          security:
            - SlackAuth:
                - users.profile:write
      /users.setPresence:
        post:
          tags:
            - User Presence
          summary: Set User Presence
          description: Manually sets user presence.
          operationId: setUserPresence
          externalDocs:
            description: API method documentation
            url: https://api.slack.com/methods/users.setPresence
          x-microcks-operation:
            dispatcher: FALLBACK
            dispatcherRules: ''
            delay: 0
          parameters:
            - $ref: '#/components/parameters/TokenHeader'
          requestBody:
            required: true
            content:
              application/x-www-form-urlencoded:
                schema:
                  $ref: '#/components/schemas/SetPresenceRequest'
                examples:
                  SetPresenceExample:
                    $ref: '#/components/examples/SetPresenceRequestExample'
              application/json:
                schema:
                  $ref: '#/components/schemas/SetPresenceRequest'
                examples:
                  SetPresenceExample:
                    $ref: '#/components/examples/SetPresenceRequestExample'
          responses:
            '200':
              description: Typical success response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/SimpleSuccessResponse'
                  examples:
                    SuccessExample:
                      $ref: '#/components/examples/SimpleSuccessResponseExample'
            default:
              description: Typical error response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/UsersErrorResponse'
                  examples:
                    ErrorExample:
                      $ref: '#/components/examples/SetPresenceErrorResponseExample'
          security:
            - SlackAuth:
                - users:write
    components:
      securitySchemes:
        SlackAuth:
          type: oauth2
          flows:
            authorizationCode:
              authorizationUrl: https://slack.com/oauth/v2/authorize
              tokenUrl: https://slack.com/api/oauth.v2.access
              scopes:
                users:read: Read users
                users:read.email: Read user emails
                users:write: Write users
                users.profile:read: Read user profiles
                users.profile:write: Write user profiles
                channels:read: Read channels
                groups:read: Read groups
                im:read: Read instant messages
                mpim:read: Read multi-party instant messages
                identity.basic: Read user identity
      parameters:
        TokenHeader:
          name: token
          in: header
          description: 'Authentication token. Requires scope: `users.profile:write`'
          required: true
          schema:
            type: string
        TokenQuery:
          name: token
          in: query
          description: Authentication token.
          schema:
            type: string
        TokenQueryRequired:
          name: token
          in: query
          description: Authentication token.
          required: true
          schema:
            type: string
      schemas:
        OkTrue:
          type: boolean
          const: true
          description: Indicates successful response
        OkFalse:
          type: boolean
          const: false
          description: Indicates error response
        UserId:
          type: string
          pattern: ^[UW][A-Z0-9]+$
          description: A user ID
        TeamId:
          type: string
          pattern: ^T[A-Z0-9]+$
          description: A team ID
        ChannelId:
          type: string
          pattern: ^C[A-Z0-9]+$
          description: A channel ID
        ResponseMetadata:
          type: object
          properties:
            next_cursor:
              type: string
          additionalProperties: false
        UserProfile:
          type: object
          properties:
            avatar_hash:
              type: string
            display_name:
              type: string
            display_name_normalized:
              type: string
            email:
              type: string
              format: email
            first_name:
              type: string
            last_name:
              type: string
            image_24:
              type: string
            image_32:
              type: string
            image_48:
              type: string
            image_72:
              type: string
            image_192:
              type: string
            image_512:
              type: string
            image_1024:
              type: string
            image_original:
              type: string
            phone:
              type: string
            real_name:
              type: string
            real_name_normalized:
              type: string
            skype:
              type: string
            status_emoji:
              type: string
            status_expiration:
              type: integer
            status_text:
              type: string
            team:
              type: string
            title:
              type: string
          additionalProperties: true
        User:
          type: object
          required:
            - id
            - name
          properties:
            id:
              $ref: '#/components/schemas/UserId'
            team_id:
              $ref: '#/components/schemas/TeamId'
            name:
              type: string
            real_name:
              type: string
            color:
              type: string
            deleted:
              type: boolean
            has_2fa:
              type: boolean
            is_admin:
              type: boolean
            is_app_user:
              type: boolean
            is_bot:
              type: boolean
            is_owner:
              type: boolean
            is_primary_owner:
              type: boolean
            is_restricted:
              type: boolean
            is_ultra_restricted:
              type: boolean
            profile:
              $ref: '#/components/schemas/UserProfile'
            tz:
              type: string
            tz_label:
              type: string
            tz_offset:
              type: integer
            updated:
              type: integer
          additionalProperties: true
        Conversation:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            name_normalized:
              type: string
            created:
              type: integer
            creator:
              type: string
            is_archived:
              type: boolean
            is_channel:
              type: boolean
            is_ext_shared:
              type: boolean
            is_general:
              type: boolean
            is_group:
              type: boolean
            is_im:
              type: boolean
            is_mpim:
              type: boolean
            is_org_shared:
              type: boolean
            is_pending_ext_shared:
              type: boolean
            is_private:
              type: boolean
            is_shared:
              type: boolean
            pending_shared:
              type: array
              items:
                type: string
            previous_names:
              type: array
              items:
                type: string
            purpose:
              type: object
              properties:
                value:
                  type: string
                creator:
                  type: string
                last_set:
                  type: integer
            topic:
              type: object
              properties:
                value:
                  type: string
                creator:
                  type: string
                last_set:
                  type: integer
            unlinked:
              type: integer
          additionalProperties: true
        DeletePhotoRequest:
          type: object
          required:
            - token
          properties:
            token:
              type: string
              description: 'Authentication token. Requires scope: `users.profile:write`'
        SetPhotoRequest:
          type: object
          required:
            - token
          properties:
            token:
              type: string
              description: 'Authentication token. Requires scope: `users.profile:write`'
            image:
              type: string
              description: File contents via `multipart/form-data`.
            crop_x:
              type: string
              description: X coordinate of top-left corner of crop box.
            crop_y:
              type: string
              description: Y coordinate of top-left corner of crop box.
            crop_w:
              type: string
              description: Width/height of crop box (always square).
        SetProfileRequest:
          type: object
          properties:
            name:
              type: string
              description: Name of a single key to set.
            value:
              type: string
              description: Value to set a single key to.
            profile:
              type: string
              description: Collection of key:value pairs presented as a URL-encoded JSON hash.
            user:
              type: string
              description: ID of user to change.
        SetPresenceRequest:
          type: object
          required:
            - presence
          properties:
            presence:
              type: string
              description: Either `auto` or `away`.
              enum:
                - auto
                - away
        SimpleSuccessResponse:
          type: object
          required:
            - ok
          properties:
            ok:
              $ref: '#/components/schemas/OkTrue'
          additionalProperties: false
        UserConversationsSuccessResponse:
          type: object
          required:
            - ok
            - channels
          properties:
            ok:
              $ref: '#/components/schemas/OkTrue'
            channels:
              type: array
              uniqueItems: true
              items:
                $ref: '#/components/schemas/Conversation'
            response_metadata:
              $ref: '#/components/schemas/ResponseMetadata'
          additionalProperties: true
        GetPresenceSuccessResponse:
          type: object
          required:
            - ok
            - presence
          properties:
            ok:
              $ref: '#/components/schemas/OkTrue'
            presence:
              type: string
              enum:
                - active
                - away
            auto_away:
              type: boolean
            manual_away:
              type: boolean
            connection_count:
              type: integer
            last_activity:
              type: integer
            online:
              type: boolean
          additionalProperties: true
        UserIdentitySuccessResponse:
          type: object
          required:
            - ok
            - user
            - team
          properties:
            ok:
              $ref: '#/components/schemas/OkTrue'
            user:
              type: object
              properties:
                id:
                  type: string
                name:
                  type: string
            team:
              type: object
              properties:
                id:
                  type: string
          additionalProperties: true
        UserInfoSuccessResponse:
          type: object
          required:
            - ok
            - user
          properties:
            ok:
              $ref: '#/components/schemas/OkTrue'
            user:
              $ref: '#/components/schemas/User'
          additionalProperties: true
        ListUsersSuccessResponse:
          type: object
          required:
            - ok
            - members
            - cache_ts
          properties:
            ok:
              $ref: '#/components/schemas/OkTrue'
            members:
              type: array
              minItems: 1
              uniqueItems: true
              items:
                $ref: '#/components/schemas/User'
            cache_ts:
              type: integer
            response_metadata:
              $ref: '#/components/schemas/ResponseMetadata'
          additionalProperties: false
        GetProfileSuccessResponse:
          type: object
          required:
            - ok
            - profile
          properties:
            ok:
              $ref: '#/components/schemas/OkTrue'
            profile:
              $ref: '#/components/schemas/UserProfile'
          additionalProperties: false
        SetProfileSuccessResponse:
          type: object
          required:
            - ok
            - profile
            - username
          properties:
            ok:
              $ref: '#/components/schemas/OkTrue'
            profile:
              $ref: '#/components/schemas/UserProfile'
            username:
              type: string
            email_pending:
              type: string
              format: email
          additionalProperties: false
        SetPhotoSuccessResponse:
          type: object
          required:
            - ok
            - profile
          properties:
            ok:
              $ref: '#/components/schemas/OkTrue'
            profile:
              type: object
              additionalProperties: false
          additionalProperties: false
        UsersErrorResponse:
          type: object
          required:
            - ok
            - error
          properties:
            ok:
              $ref: '#/components/schemas/OkFalse'
            error:
              type: string
              enum:
                - not_authed
                - invalid_auth
                - account_inactive
                - token_revoked
                - no_permission
                - org_login_required
                - user_is_bot
                - invalid_arg_name
                - invalid_array_arg
                - invalid_charset
                - invalid_form_data
                - invalid_post_type
                - missing_post_type
                - team_added_to_org
                - invalid_json
                - json_not_object
                - request_timeout
                - upgrade_required
                - fatal_error
            callstack:
              type: string
              description: 'Note: PHP callstack is only visible in dev/qa'
          additionalProperties: false
        UserInfoErrorResponse:
          type: object
          required:
            - ok
            - error
          properties:
            ok:
              $ref: '#/components/schemas/OkFalse'
            error:
              type: string
              enum:
                - user_not_found
                - user_not_visible
                - not_authed
                - invalid_auth
                - account_inactive
                - invalid_arg_name
                - invalid_array_arg
                - invalid_charset
                - invalid_form_data
                - invalid_post_type
                - missing_post_type
                - team_added_to_org
                - invalid_json
                - json_not_object
                - request_timeout
                - upgrade_required
            callstack:
              type: string
          additionalProperties: false
        LookupByEmailErrorResponse:
          type: object
          required:
            - ok
            - error
          properties:
            ok:
              $ref: '#/components/schemas/OkFalse'
            error:
              type: string
              enum:
                - users_not_found
                - enterprise_is_restricted
                - not_authed
                - invalid_auth
                - account_inactive
                - no_permission
                - invalid_arg_name
                - invalid_array_arg
                - invalid_charset
                - invalid_form_data
                - invalid_post_type
                - missing_post_type
                - team_added_to_org
                - invalid_json
                - json_not_object
                - request_timeout
                - upgrade_required
                - fatal_error
            callstack:
              type: string
          additionalProperties: false
        SetProfileErrorResponse:
          type: object
          required:
            - ok
            - error
          properties:
            ok:
              $ref: '#/components/schemas/OkFalse'
            error:
              type: string
              enum:
                - reserved_name
                - invalid_profile
                - profile_set_failed
                - not_admin
                - not_app_admin
                - cannot_update_admin_user
                - not_authed
                - invalid_auth
                - account_inactive
                - token_revoked
                - no_permission
                - org_login_required
                - user_is_bot
                - invalid_arg_name
                - invalid_array_arg
                - invalid_charset
                - invalid_form_data
                - invalid_post_type
                - missing_post_type
                - team_added_to_org
                - invalid_json
                - json_not_object
                - request_timeout
                - upgrade_required
                - fatal_error
            callstack:
              type: string
          additionalProperties: false
        SetPhotoErrorResponse:
          type: object
          required:
            - ok
            - error
          properties:
            ok:
              $ref: '#/components/schemas/OkFalse'
            error:
              type: string
              enum:
                - bad_image
                - too_large
                - too_many_frames
                - not_found
                - not_authed
                - invalid_auth
                - account_inactive
                - token_revoked
                - no_permission
                - org_login_required
                - user_is_bot
                - invalid_arg_name
                - invalid_array_arg
                - invalid_charset
                - invalid_form_data
                - invalid_post_type
                - missing_post_type
                - team_added_to_org
                - invalid_json
                - json_not_object
                - request_timeout
                - upgrade_required
                - fatal_error
            callstack:
              type: string
            debug_step:
              type: string
            dims:
              type: string
            time_ident:
              type: integer
          additionalProperties: false
      examples:
        DeletePhotoRequestExample:
          summary: Delete user photo request
          value:
            token: example-key1234567890-1234567890-1234567890-abcdef
        SetPhotoRequestExample:
          summary: Set user photo request
          value:
            token: example-key1234567890-1234567890-1234567890-abcdef
            crop_x: '0'
            crop_y: '0'
            crop_w: '100'
        SetProfileRequestExample:
          summary: Set user profile request
          value:
            name: status_text
            value: Working from home
        SetPresenceRequestExample:
          summary: Set user presence request
          value:
            presence: auto
        SimpleSuccessResponseExample:
          summary: Simple success response
          value:
            ok: true
        UserConversationsSuccessResponseExample:
          summary: Successful user conversations response
          value:
            ok: true
            channels:
              - id: C012AB3CD
                name: general
                name_normalized: general
                created: 1449252889
                creator: U012A3CDE
                is_archived: false
                is_channel: true
                is_ext_shared: false
                is_general: true
                is_group: false
                is_im: false
                is_mpim: false
                is_org_shared: false
                is_pending_ext_shared: false
                is_private: false
                is_shared: false
                pending_shared: []
                previous_names: []
                purpose:
                  value: This channel is for team-wide communication and announcements.
                  creator: ''
                  last_set: 0
                topic:
                  value: Company-wide announcements and work-based matters
                  creator: ''
                  last_set: 0
                unlinked: 0
              - id: C061EG9T2
                name: random
                name_normalized: random
                created: 1449252889
                creator: U061F7AUR
                is_archived: false
                is_channel: true
                is_ext_shared: false
                is_general: false
                is_group: false
                is_im: false
                is_mpim: false
                is_org_shared: false
                is_pending_ext_shared: false
                is_private: false
                is_shared: false
                pending_shared: []
                previous_names: []
                purpose:
                  value: A place for non-work-related flimflam and faffing.
                  creator: ''
                  last_set: 0
                topic:
                  value: Non-work banter and water cooler conversation
                  creator: ''
                  last_set: 0
                unlinked: 0
            response_metadata:
              next_cursor: dGVhbTpDMDYxRkE1UEI=
        GetPresenceSuccessResponseExample:
          summary: Successful get presence response
          value:
            ok: true
            presence: active
        UserIdentitySuccessResponseExample:
          summary: Successful user identity response
          value:
            ok: true
            user:
              id: U0G9QF9C6
              name: Sonny Whether
            team:
              id: T0G9PQBBK
        UserInfoSuccessResponseExample:
          summary: Successful user info response
          value:
            ok: true
            user:
              id: W012A3CDE
              team_id: T012AB3C4
              name: spengler
              real_name: Egon Spengler
              color: 9f69e7
              deleted: false
              has_2fa: false
              is_admin: true
              is_app_user: false
              is_bot: false
              is_owner: false
              is_primary_owner: false
              is_restricted: false
              is_ultra_restricted: false
              profile:
                avatar_hash: ge3b51ca72de
                display_name: spengler
                display_name_normalized: spengler
                email: spengler@ghostbusters.example.com
                image_24: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
                image_32: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
                image_48: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
                image_72: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
                image_192: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
                image_512: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
                image_original: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
                real_name: Egon Spengler
                real_name_normalized: Egon Spengler
                status_emoji: ':books:'
                status_text: Print is dead
                team: T012AB3C4
              tz: America/Los_Angeles
              tz_label: Pacific Daylight Time
              tz_offset: -25200
              updated: 1502138686
        ListUsersSuccessResponseExample:
          summary: Successful list users response
          value:
            ok: true
            cache_ts: 1498777272
            members:
              - id: W012A3CDE
                team_id: T012AB3C4
                name: spengler
                real_name: Egon Spengler
                color: 9f69e7
                deleted: false
                has_2fa: false
                is_admin: true
                is_app_user: false
                is_bot: false
                is_owner: false
                is_primary_owner: false
                is_restricted: false
                is_ultra_restricted: false
                profile:
                  avatar_hash: ge3b51ca72de
                  display_name: spengler
                  display_name_normalized: spengler
                  email: spengler@ghostbusters.example.com
                  image_24: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
                  image_32: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
                  image_48: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
                  image_72: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
                  image_192: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
                  image_512: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
                  real_name: Egon Spengler
                  real_name_normalized: Egon Spengler
                  status_emoji: ':books:'
                  status_text: Print is dead
                  team: T012AB3C4
                tz: America/Los_Angeles
                tz_label: Pacific Daylight Time
                tz_offset: -25200
                updated: 1502138686
              - id: W07QCRPA4
                team_id: T0G9PQBBK
                name: glinda
                real_name: Glinda Southgood
                color: 9f69e7
                deleted: false
                has_2fa: false
                is_admin: true
                is_bot: false
                is_owner: false
                is_primary_owner: false
                is_restricted: false
                is_ultra_restricted: false
                profile:
                  avatar_hash: 8fbdd10b41c6
                  display_name: Glinda the Fairly Good
                  display_name_normalized: Glinda the Fairly Good
                  email: glenda@south.oz.coven
                  first_name: Glinda
                  last_name: Southgood
                  image_24: https://example.com/avatar.png
                  image_32: https://example.com/avatar.png
                  image_48: https://example.com/avatar.png
                  image_72: https://example.com/avatar.png
                  image_192: https://example.com/avatar.png
                  image_512: https://example.com/avatar.png
                  image_1024: https://example.com/avatar.png
                  image_original: https://example.com/avatar.png
                  phone: ''
                  real_name: Glinda Southgood
                  real_name_normalized: Glinda Southgood
                  skype: ''
                  title: Glinda the Good
                tz: America/Los_Angeles
                tz_label: Pacific Daylight Time
                tz_offset: -25200
                updated: 1480527098
            response_metadata:
              next_cursor: dXNlcjpVMEc5V0ZYTlo=
        GetProfileSuccessResponseExample:
          summary: Successful get profile response
          value:
            ok: true
            profile:
              avatar_hash: ge3b51ca72de
              display_name: spengler
              display_name_normalized: spengler
              email: spengler@ghostbusters.example.com
              image_24: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
              image_32: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
              image_48: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
              image_72: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
              image_192: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
              image_512: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
              image_original: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
              real_name: Egon Spengler
              real_name_normalized: Egon Spengler
              status_emoji: ':books:'
              status_expiration: 0
              status_text: Print is dead
              team: T012AB3C4
        SetProfileSuccessResponseExample:
          summary: Successful set profile response
          value:
            ok: true
            username: spengler
            profile:
              avatar_hash: ge3b51ca72de
              display_name: spengler
              display_name_normalized: spengler
              email: spengler@ghostbusters.example.com
              image_24: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
              image_32: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
              image_48: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
              image_72: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
              image_192: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
              image_512: https://example.com/avatar/e3b51ca72dee4ef87916ae2b9240df50.jpg
              real_name: Egon Spengler
              real_name_normalized: Egon Spengler
              status_emoji: ':books:'
              status_expiration: 0
              status_text: Print is dead
              team: T012AB3C4
        SetPhotoSuccessResponseExample:
          summary: Successful set photo response
          value:
            ok: true
            profile: {}
        UsersErrorResponseExample:
          summary: Error response
          value:
            ok: false
            error: invalid_auth
        UserInfoErrorResponseExample:
          summary: User info error response
          value:
            ok: false
            error: user_not_found
        LookupByEmailErrorResponseExample:
          summary: Lookup by email error response
          value:
            ok: false
            error: users_not_found
        ListUsersErrorResponseExample:
          summary: List users error response
          value:
            ok: false
            error: invalid_cursor
        ProfileErrorResponseExample:
          summary: Profile error response
          value:
            ok: false
            error: user_not_found
        SetProfileErrorResponseExample:
          summary: Set profile error response
          value:
            ok: false
            error: invalid_profile
        SetPhotoErrorResponseExample:
          summary: Set photo error response
          value:
            ok: false
            error: bad_image
        SetPresenceErrorResponseExample:
          summary: Set presence error response
          value:
            ok: false
            error: invalid_presence
